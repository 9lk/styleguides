<!-- via https://talk.jekyllrb.com/t/get-all-tags-uniques-in-multiple-collection-pages-without-a-plugin/1221/3 -->
<!-- Create empty arrays -->
{% assign tags = '' | split: ',' %}
{% assign unique_tags = '' | split: ',' %}
<!-- Map and flatten -->
{% assign article_tags =  section | map: 'tags' | join: ',' | join: ',' | upcase | split: ','   %}
<!-- Push to tags -->
{% for tag in article_tags %}
  {% assign tags = tags | push: tag %}
{% endfor %}
<!-- Uniq -->
{% assign tags = tags | sort %}
{% for tag in tags %}
  {% comment %} <!-- If not equal to previous then it must be unique as sorted --> {% endcomment %}
  {% unless tag == previous %}
    {% comment %} <!-- Push to unique_tags --> {% endcomment %}
    {% assign unique_tags = unique_tags | push: tag %}
  {% endunless %}

  {% assign previous = tag %}
{% endfor %}
<div class="c-toggle">

    <ul class="c-toggle__list">

        <li class="c-toggle__item">
          <input class="c-toggle__checkbox show-all" type="checkbox" value="show-all" checked id="show-all"/>
          <label class="c-toggle__label" for="show-all">Show All</label>
        </li>
        {% for tag in unique_tags %}
        <li class="c-toggle__item">
          <input class="c-toggle__checkbox" type="checkbox" value="{{tag | downcase}}" id="{{tag | downcase}}" />
          <label class="c-toggle__label" for="{{tag | downcase}}">{{tag}}</label>
        </li>
        {% endfor %}

    </ul><!-- end c-toggle__list -->
    
</div><!-- end c-toggle -->
